import{S as v,i as H,s as L,e as a,a as w,t as T,x as M,b as e,c as h,d as s,y as N,l as j,Z as P,n as A,B as D,C as F,g as C,D as O,a5 as V,_ as Z,$ as k}from"./index-6810098b.js";import{q as z,c as G}from"./index-31e73cf6.js";import{B as I}from"./button-bb4a9d20.js";function J(f){let l,x,d,r,i,_,t,o,m,b,c,S,u,E,y,U,p,$,q,B;return p=new I({props:{class:"primary my-5",text:"Create"}}),{c(){l=a("h1"),l.textContent="Create New Customer Profile",x=w(),d=a("section"),r=a("form"),i=a("label"),_=T(`Username:
      `),t=a("input"),o=w(),m=a("label"),m.innerHTML=`Address:
      <input class="error rounded input input-bordered w-full max-w-xs" type="text" name="customer.address" id="address" required=""/>`,b=w(),c=a("label"),S=T(`Email:
      `),u=a("input"),E=w(),y=a("label"),y.innerHTML=`Phone
      <input class="error rounded input input-bordered w-full max-w-xs" type="tel" name="customer.phone" id="phone" required=""/>`,U=w(),M(p.$$.fragment),e(l,"class","text-4xl font-extrabold py-5 mx-5"),e(t,"class","error rounded input input-bordered w-full max-w-xs"),e(t,"type","text"),e(t,"name","customer.name"),e(t,"id","name"),t.required=!0,e(i,"for","name"),e(i,"class","w-full"),e(m,"for","address"),e(m,"class","w-full"),e(u,"class","error rounded input input-bordered w-full max-w-xs"),e(u,"type","email"),e(u,"name","customer.email"),e(u,"id","email"),u.required=!0,e(c,"for","email"),e(c,"class","w-full"),e(y,"for","phone"),e(y,"class","w-full"),e(r,"class","flex flex-col border-2 border-gray-50 shadow-xl justify-center items-center w-max p-10 rounded sm:mx-5"),e(d,"class","grid place-content-center")},m(n,g){h(n,l,g),h(n,x,g),h(n,d,g),s(d,r),s(r,i),s(i,_),s(i,t),s(r,o),s(r,m),s(r,b),s(r,c),s(c,S),s(c,u),s(r,E),s(r,y),s(r,U),N(p,r,null),$=!0,q||(B=[j(t,"keyup",f[1]),j(u,"keyup",f[1]),P(f[0].call(null,r))],q=!0)},p:A,i(n){$||(D(p.$$.fragment,n),$=!0)},o(n){F(p.$$.fragment,n),$=!1},d(n){n&&C(l),n&&C(x),n&&C(d),O(p),q=!1,V(B)}}}function K(f){let l;const{form:x,errors:d,touched:r,isSubmitting:i}=Z({initialValues:{customer:{name:"",address:"",email:"",phone:""}},onSubmit:async t=>await G(t.customer),onSuccess(t,o){t===201&&k.success("Customer created!")},onError(t,o){console.error(`onError: ${t}`),k.error("User existed already.")}});function _(t){const o={},m=t.target.name.split(".")[1],b=t.target.value.trim();if(b==="")return[{name:null,email:null,address:null,phone:null}];o[m]=b,setTimeout(async()=>{l=await z(o),console.log(l)},800)}return[x,_]}class X extends v{constructor(l){super(),H(this,l,K,J,L,{})}}export{X as default};
