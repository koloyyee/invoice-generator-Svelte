import{E as a}from"./index-6810098b.js";async function v(){try{return[await(await fetch("https://api.loyyee.co/invoice-generator/invoices")).json(),null]}catch(t){return[null,t]}}async function D(t){const{invoiceId:e,createdDate:o,dueDate:n,issuer:i,customer:c,items:r,note:u,status:l,totalAmount:d}=t,m={invoiceId:e,createdDate:o,dueDate:n,issuer:i._id,customer:c,items:r,note:u,status:l,totalAmount:d};try{return(await fetch("https://api.loyyee.co/invoice-generator/invoices",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(m)})).status}catch(s){return s}}async function I(t){}function f(t){const e=[],o=[];return t.forEach(n=>{e.push(n.customer.name),o.push(n.totalAmount)}),{names:e,totalAmounts:o}}const p=Object.freeze({NOT_PAID:"Not Paid",PAID:"Paid",VOID:"Void"}),y=a([]),g=a({invoiceId:new Date().valueOf().toString(),createdDate:new Date().toLocaleDateString(),dueDate:new Date().toLocaleDateString(),issuer:{username:"",address:"",email:"",phone:"",website:"",bankName:"",bankAccount:"",bankHolder:""},customer:{name:"",address:""},items:[],note:"",totalAmount:0,status:p.NOT_PAID}),w=a(""),A=a(null);async function S(){const[t,e]=await v();if(e)throw e;localStorage.setItem("invoices",JSON.stringify(t)),y.set(t);const{names:o,totalAmounts:n}=f(t);return{names:o,totalAmounts:n}}export{p as a,g as b,D as c,w as d,I as e,y as i,A as l,S as u};
